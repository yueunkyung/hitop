<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>INCLUDE HITOP</title>
        <link rel="shortcut icon" href="../images/layout/favicon.png" type="image/x-icon" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
        <link rel="stylesheet" href="../css/reset.css" />
        <link rel="stylesheet" href="../css/swiper-bundle.css" />
        <link rel="stylesheet" href="../css/splitting.css" />
        <link rel="stylesheet" href="../css/layout.css" />
        <link rel="stylesheet" href="../css/main.css" />
        <link rel="stylesheet" href="../css/contents.css" />
        <link rel="stylesheet" href="../css/board.css" />
        <script src="../js/swiper-bundle.min.js"></script>
        <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=68cac597f6465ad3f40e023984b6e57d&libraries=services"></script>
        <script src="../js/jquery-3.6.0.min.js"></script>
        <script src="../js/gsap/gsap.min.js"></script>
        <script src="../js/splitting.min.js"></script>
        <script src="../js/js.cookie.min.js"></script>
        <!-- <script src="../js/main.js" defer></script> -->
        <script src="../js/jquery_main.js" defer></script>
    </head>
    <body>
        <header id="header">
            <div class="container">
                <h1 id="logo">
                    <a href="./"><img src="../images/layout/logo.png" alt="하이탑 로고" /></a>
                </h1>
                <nav id="gnb">
                    <ul class="list">
                        <li>
                            <a href="">company</a>
                            <ul class="depth02">
                                <li><a href="introduce.php">사업개요</a></li>
                                <li><a href="greeting.php">인사말</a></li>
                                <li><a href="">경영이념</a></li>
                                <li><a href="history.php">회사연혁</a></li>
                                <li><a href="ci.php">CI</a></li>
                                <li><a href="">조직도</a></li>
                                <li><a href="location.php">오시는 길</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="">business</a>
                            <ul class="depth02">
                                <li><a href="">경관용포장재</a></li>
                                <li><a href="">기능성포장재</a></li>
                                <li><a href="">조립식바닥재</a></li>
                                <li><a href="">스포츠필드</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="">pr</a>
                            <ul class="depth02">
                                <li><a href="">특허인증</a></li>
                                <li><a href="">시공실적</a></li>
                                <li><a href="">시공사진</a></li>
                                <li><a href="">카달로그</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="notice.html">customer</a>
                            <ul class="depth02">
                                <li><a href="notice.html">공지사항</a></li>
                                <li><a href="">나라장터 등록물품</a></li>
                                <li><a href="inquiry.html">견적문의</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="">recruit</a>
                            <ul class="depth02">
                                <li><a href="">인재상</a></li>
                                <li><a href="">인사&복지</a></li>
                                <li><a href="">채용공고</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
                <!-- gnb end -->
                <div class="etc">
                    <a href="" class="btn online">온라인 견적문의</a>
                    <button class="all">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>
        </header>
        <!-- header end -->

        <main id="subContentsWrap">
            <div id="subVisual" class="subVisual04">
                <div class="subTitle">
                    <h2>Company</h2>
                    <p>우리는, 도시경관사업의 최고기업이 되고 시장을 선도한다!</p>
                </div>
                <nav id="lnb">
                    <h3 class="hidden">local navigation bar</h3>
                    <div class="contents">
                        <div class="home">
                            <a href=""><span class="material-icons"> home </span></a>
                        </div>
                        <div class="depth01 item">
                            <button>
                                Customer
                                <span class="material-icons"> expand_more </span>
                            </button>
                            <ul class="mainLnb">
                                <li><a href="">Company</a></li>
                                <li><a href="">Business</a></li>
                                <li><a href="">PR</a></li>
                                <li><a href="">Customer</a></li>
                                <li><a href="">Recruit</a></li>
                            </ul>
                        </div>
                        <div class="depth02 item">
                            <button>
                                공지사항
                                <span class="material-icons"> expand_more </span>
                            </button>
                            <ul>
                                <li><a href="">공지사항</a></li>
                                <li><a href="">나라장터 등록물품</a></li>
                                <li><a href="">견적문의</a></li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
            <!-- subvisual end -->
            <div id="subContents">
                <h3 class="subTitle">오시는 길</h3>
                <div class="contents">
                    <div class="tabBox locationTab">
                        <div class="tabMenu">
                            <ul>
                                <li class="on">서울 사무실</li>
                                <li>강원도 사무실</li>
                                <li>제 1 공장</li>
                                <li>제 2 공장</li>
                            </ul>
                        </div>
                        <div class="tabContents">
                            <div id="map"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <script src="../js/map.js"></script>
        <footer id="footer">
            <div class="utilMenu">
                <ul>
                    <li><a href="">이용약관</a></li>
                    <li><a href="">개인정보보호정책</a></li>
                    <li><a href="">사이트맵</a></li>
                    <li><a href="">온라인견적문의</a></li>
                </ul>
            </div>
            <div class="addressBox">
                <div class="logo">
                    <img src="../images/layout/fLogo.png" alt="" />
                </div>
                <div class="address">
                    <p>
                        주소 : 서울 송파구 성내천로 14길 13 (3층) <br />
                        대표전화 : 070-7715-4400 / 이메일 : hitop4400@hanmail.net <br />
                        사업자번호 : 402-81-83259
                    </p>
                    <p class="copyright">Copyright ⓒ 2018 HITOP. All rights reserved</p>
                </div>
                <div class="tel">
                    고객만족센터
                    <strong>070-7715-4400</strong>
                </div>
            </div>
        </footer>
        <button class="btnTop">
            <span class="material-icons">north</span>
        </button>
    </body>
    <!-- body end -->
    <script>
        function loadMap(obj) {
            $("#map").html("");
            const container = document.querySelector("#map"); //지도를 담을 영역의 DOM 레퍼런스
            const options = {
                //지도를 생성할 때 필요한 기본 옵션
                center: new kakao.maps.LatLng(37.5289707, 126.8766284), //지도의 중심좌표.
                level: 3, //지도의 레벨(확대, 축소 정도)
            };

            const map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴

            // 주소-좌표 변환 객체를 생성합니다
            const geocoder = new kakao.maps.services.Geocoder();

            // 주소로 좌표를 검색합니다
            geocoder.addressSearch(obj.address, function (result, status) {
                // 정상적으로 검색이 완료됐으면
                if (status === kakao.maps.services.Status.OK) {
                    const coords = new kakao.maps.LatLng(result[0].y, result[0].x);

                    const imageSrc = "../images/contents/town-hall.png", // 마커이미지의 주소입니다
                        imageSize = new kakao.maps.Size(64, 64), // 마커이미지의 크기입니다
                        imageOption = { offset: new kakao.maps.Point(32, 64) }; // 마커이미지의 옵션입니다. 마커의 좌표와 일치시킬 이미지 안에서의 좌표를 설정합니다.

                    // 마커의 이미지정보를 가지고 있는 마커이미지를 생성합니다
                    const markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption),
                        markerPosition = coords; // 마커가 표시될 위치입니다

                    // 마커를 생성합니다
                    const marker = new kakao.maps.Marker({
                        position: markerPosition,
                        image: markerImage, // 마커이미지 설정
                    });

                    // 마커가 지도 위에 표시되도록 설정합니다
                    marker.setMap(map);

                    // 커스텀 오버레이에 표출될 내용으로 HTML 문자열이나 document element가 가능합니다
                    const content = `<div class="customOverlay">
                      <a href="${obj.link}" target="_blank">
                        <span class="title">${obj.title}</span>
                      </a> 
                    </div>`;

                    // 커스텀 오버레이가 표시될 위치입니다
                    const position = coords;

                    // 커스텀 오버레이를 생성합니다
                    const customOverlay = new kakao.maps.CustomOverlay({
                        map: map,
                        position: position,
                        content: content,
                        yAnchor: 1,
                    });

                    // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다
                    map.setCenter(coords);
                }
            });
        }

        const addressList = [
            {
                address: "서울특별시 영등포구 선유로 130",
                link: "http://daum.net",
                title: "TIS정보통신 교육센터",
            },
            {
                address: "서울시 관악구 관악로 1 서울대학교",
                link: "http://daum.net",
                title: "서울대학교",
            },
            {
                address: "서울특별시 서대문구 연세로 50 연세대학교",
                link: "http://daum.net",
                title: "연세대학교",
            },
            {
                address: "서울특별시 성북구 안암로 145",
                link: "http://daum.net",
                title: "고려대학교",
            },
        ];

        let old = 0;
        $(".tabMenu li").on("click", function () {
            if (old === $(this).index()) return;
            loadMap(addressList[$(this).index()]);
            old = $(this).index();
        });

        loadMap(addressList[0]);
    </script>
</html>
